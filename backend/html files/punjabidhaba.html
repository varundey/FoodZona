<!DOCTYPE html>
<html lang="en">
<head>
  <title>Punjabi dhaba</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script type="text/javascript" src="http://localhost/food/jquery-2.1.3.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</head>
<body>
       
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Item</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      <tr id="1">
      </tr>
      <tr id="2">
      </tr>
      <tr id="3">
      </tr>
    </tbody>
  </table>
  <div id="total"></div>
</div>

<a ><button id="pay">Pay</button></a>
<script type="text/javascript">
$(document).ready(function()
{
	var mp=localStorage.getItem("det")
	localStorage.removeItem("det")
	localStorage.setItem("sum",0)
	var json=JSON.parse(mp)
	var m=json[0]["ans"]
	$("#1").append("<td>"+m[0]["item"]+'</td><td><select id="21"><option value=""></option> <option value="1">1</option>  <option value="2">2</option>  <option value="3">3</option>  <option value="4">4</option></select></td><td>'+m[0]["price"]+'</td><td id="p1"></td>');
	$("#2").append("<td>"+m[1]["item"]+'</td><td><select id="22"><option value=""></option> <option value="1">1</option>  <option value="2">2</option>  <option value="3">3</option>  <option value="4">4</option></select></td><td>'+m[1]["price"]+'</td><td id="p2"></td>');
	$("#3").append("<td>"+m[2]["item"]+'</td><td><select id="23"><option value=""></option> <option value="1">1</option>  <option value="2">2</option>  <option value="3">3</option>  <option value="4">4</option></select></td><td>'+m[2]["price"]+'</td><td id="p3"></td>');
	$('#21').on('change', function (e) {
    var optionSelected = $("option:selected", this);
    var valueSelected = this.value;
    var d=valueSelected*m[0]["price"]
    var a=localStorage.getItem("sum")
    a=parseInt(a)+d
    localStorage.setItem("sum",a)
    $("#p1").html("")
    $("#p1").append(d);
    var g=localStorage.getItem("sum")
     $("#total").html("")
    $("#total").append(g)
    });
    $('#22').on('change', function (e) {
    var optionSelected = $("option:selected", this);
    var valueSelected = this.value;
    var d=valueSelected*m[1]["price"]
    var a=localStorage.getItem("sum")
    a=parseInt(a)+d
    localStorage.setItem("sum",a)
    $("#p2").html("")
    $("#p2").append(d);
     var g=localStorage.getItem("sum")
     $("#total").html("")
    $("#total").append(g)
    });
    $('#23').on('change', function (e) {
    var optionSelected = $("option:selected", this);
    var valueSelected = this.value;
    var d=valueSelected*m[2]["price"]
    var a=localStorage.getItem("sum")
    a=parseInt(a)+d
    localStorage.setItem("sum",a)
    $("#p3").html("")
    $("#p3").append(d);
     var g=localStorage.getItem("sum")
      $("#total").html("")
    $("#total").append(g)
    });
});

</script>
</body>
</html>

